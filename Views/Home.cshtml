@using AbraContentSite.Models
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<HomeViewModel>

@{
    Layout = "Master.cshtml"; // או ה-Layout הראשי שלך
}

<h1>@Model.Content.Value("siteTitle")</h1>

<div class="hero-text">
    @Model.Content.Value("aboutText")
</div>

<form method="get" style="margin: 20px 0;">
    <input type="text" name="q" value="@Model.SearchQuery" placeholder="Search articles..." />
    <button type="submit">Search</button>
    @if(Model.HasSearched)
    {
        <a href="@Model.Content.Url()">Clear</a>
    }
</form>

@if (Model.HasSearched)
{
    <h3>Search Results for: "@Model.SearchQuery"</h3>
    
    if (Model.SearchResults != null && Model.SearchResults.Any())
    {
        <ul>
            @foreach (var article in Model.SearchResults)
            {
                <li>
                    <a href="@article.Url()">@article.Name</a>
                    </li>
            }
        </ul>
    }
    else
    {
        <p>No articles found.</p>
    }
}